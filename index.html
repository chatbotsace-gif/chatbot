<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Assistente Virtual Profissional</title>
<style>
* {margin:0; padding:0; box-sizing:border-box;}
body {font-family:'Segoe UI',Tahoma,sans-serif; background:linear-gradient(135deg,#0f172a 0%,#1e293b 100%); color:#e2e8f0; display:flex; flex-direction:column; height:100vh; overflow:hidden;}
.header {padding:16px 24px; background:linear-gradient(135deg,#1e40af 0%,#3b82f6 100%); box-shadow:0 4px 6px rgba(0,0,0,0.3); display:flex; align-items:center; gap:12px; position:relative;}
.header::before {content:''; position:absolute; top:0; left:0; right:0; bottom:0; background:linear-gradient(90deg,rgba(255,255,255,0.1) 0%,transparent 100%); pointer-events:none;}
.logo {width:40px; height:40px; background:linear-gradient(135deg,#60a5fa 0%,#3b82f6 100%); border-radius:50%; display:flex; align-items:center; justify-content:center; font-size:20px; box-shadow:0 2px 8px rgba(59,130,246,0.4);}
.header-title {flex:1;}
.header-title h1 {font-size:20px; font-weight:600; letter-spacing:0.5px;}
.header-title p {font-size:12px; opacity:0.9; margin-top:2px;}
.status {display:flex; align-items:center; gap:6px; font-size:12px; padding:4px 12px; background:rgba(16,185,129,0.2); border-radius:20px; border:1px solid rgba(16,185,129,0.3);}
.status-dot {width:8px; height:8px; background:#10b981; border-radius:50%; animation:pulse 2s infinite;}
@keyframes pulse {0%,100%{opacity:1;}50%{opacity:0.5;}}
.messages {flex:1; padding:20px; overflow-y:auto; display:flex; flex-direction:column; gap:16px; scroll-behavior:smooth;}
.messages::-webkit-scrollbar {width:8px;}
.messages::-webkit-scrollbar-track {background:rgba(0,0,0,0.2);}
.messages::-webkit-scrollbar-thumb {background:rgba(59,130,246,0.5); border-radius:4px;}
.msg-wrapper {display:flex; gap:12px; animation:slideIn 0.3s ease-out;}
@keyframes slideIn {from {opacity:0; transform:translateY(10px);} to {opacity:1; transform:translateY(0);}}
.msg-wrapper.me {flex-direction:row-reverse;}
.avatar {width:36px; height:36px; border-radius:50%; display:flex; align-items:center; justify-content:center; font-size:18px; flex-shrink:0; box-shadow:0 2px 8px rgba(0,0,0,0.2);}
.avatar.user {background:linear-gradient(135deg,#8b5cf6 0%,#6366f1 100%);}
.avatar.bot {background:linear-gradient(135deg,#06b6d4 0%,#0891b2 100%);}
.msg {padding:12px 16px; border-radius:16px; max-width:70%; line-height:1.5; position:relative; word-wrap:break-word;}
.msg-wrapper.me .msg {background:linear-gradient(135deg,#8b5cf6 0%,#6366f1 100%); color:#fff; border-bottom-right-radius:4px; box-shadow:0 2px 8px rgba(139,92,246,0.3);}
.msg-wrapper.bot .msg {background:rgba(30,41,59,0.8); color:#e2e8f0; border-bottom-left-radius:4px; border:1px solid rgba(59,130,246,0.2); box-shadow:0 2px 8px rgba(0,0,0,0.2);}
.timestamp {font-size:10px; opacity:0.6; margin-top:4px; text-align:right;}
.typing {display:flex; gap:4px; padding:12px;}
.typing span {width:8px; height:8px; background:#64748b; border-radius:50%; animation:typing 1.4s infinite;}
.typing span:nth-child(2) {animation-delay:0.2s;}
.typing span:nth-child(3) {animation-delay:0.4s;}
@keyframes typing {0%,60%,100%{transform:translateY(0);}30%{transform:translateY(-10px);}}
.inputArea {display:flex; padding:16px 20px; gap:12px; background:rgba(15,23,42,0.95); border-top:1px solid rgba(59,130,246,0.2); backdrop-filter:blur(10px);}
.inputArea input {flex:1; padding:14px 18px; border-radius:24px; border:2px solid rgba(59,130,246,0.3); background:rgba(30,41,59,0.6); color:#e2e8f0; font-size:14px; transition:all 0.3s ease; outline:none;}
.inputArea input:focus {border-color:#3b82f6; background:rgba(30,41,59,0.9); box-shadow:0 0 0 3px rgba(59,130,246,0.1);}
.inputArea input::placeholder {color:#64748b;}
.inputArea button {padding:14px 24px; border:none; border-radius:24px; background:linear-gradient(135deg,#3b82f6 0%,#2563eb 100%); color:#fff; font-weight:600; font-size:14px; cursor:pointer; transition:all 0.3s ease; box-shadow:0 4px 12px rgba(59,130,246,0.4);}
.inputArea button:hover {transform:translateY(-2px); box-shadow:0 6px 16px rgba(59,130,246,0.5);}
.inputArea button:active {transform:translateY(0);}
.inputArea button:disabled {opacity:0.5; cursor:not-allowed; transform:none;}
.suggestions {display:flex; gap:8px; padding:12px 20px; overflow-x:auto; background:rgba(15,23,42,0.6); border-top:1px solid rgba(59,130,246,0.1);}
.suggestions::-webkit-scrollbar {height:4px;}
.suggestions::-webkit-scrollbar-thumb {background:rgba(59,130,246,0.3); border-radius:2px;}
.suggestion-chip {padding:8px 16px; background:rgba(59,130,246,0.2); border:1px solid rgba(59,130,246,0.3); border-radius:20px; font-size:13px; cursor:pointer; white-space:nowrap; transition:all 0.3s ease;}
.suggestion-chip:hover {background:rgba(59,130,246,0.4); transform:translateY(-2px);}
@media (max-width:768px){.msg{max-width:85%;}.header-title h1{font-size:16px;}.inputArea{padding:12px;}}
</style>
</head>
<body>

<div class="header">
  <div class="logo">ğŸ¤–</div>
  <div class="header-title">
    <h1>Assistente Virtual</h1>
    <p>InteligÃªncia artificial Ã  sua disposiÃ§Ã£o</p>
  </div>
  <div class="status">
    <div class="status-dot"></div>
    Online
  </div>
</div>

<div class="suggestions" id="suggestions">
  <div class="suggestion-chip" onclick="useSuggestion('OlÃ¡! Como vocÃª estÃ¡?')">ğŸ‘‹ Cumprimentar</div>
  <div class="suggestion-chip" onclick="useSuggestion('Que horas sÃ£o agora?')">ğŸ• Hora atual</div>
  <div class="suggestion-chip" onclick="useSuggestion('Qual Ã© a data de hoje?')">ğŸ“… Data</div>
  <div class="suggestion-chip" onclick="useSuggestion('Me conte uma curiosidade')">ğŸ’¡ Curiosidade</div>
  <div class="suggestion-chip" onclick="useSuggestion('FaÃ§a uma piada')">ğŸ˜„ Piada</div>
  <div class="suggestion-chip" onclick="useSuggestion('Quanto Ã© 12 + 34 * 2 - 5 / 5')">ğŸ§® CÃ¡lculo</div>
</div>

<div id="messages" class="messages"></div>

<div class="inputArea">
  <input id="inputMsg" placeholder="Digite sua mensagem aqui..." autocomplete="off">
  <button id="sendBtn">Enviar</button>
</div>

<script>
const messagesEl = document.getElementById('messages');
const input = document.getElementById('inputMsg');
const sendBtn = document.getElementById('sendBtn');
let isTyping = false;
let userName = null;

// Base de respostas
const knowledgeBase = {
  saudacoes: ['olÃ¡','oi','hey','bom dia','boa tarde','boa noite','e aÃ­','opa'],
  despedidas: ['tchau','adeus','atÃ© logo','atÃ© mais','atÃ© breve','falou','bye'],
  agradecimentos: ['obrigado','obrigada','valeu','thanks','agradeÃ§o'],
  curiosidades: [
    "O coraÃ§Ã£o humano bombeia cerca de 7.200 litros de sangue por dia! ğŸ’“",
    "A luz do Sol leva 8 minutos para chegar Ã  Terra. â˜€ï¸",
    "Um raio Ã© cinco vezes mais quente que a superfÃ­cie do Sol! âš¡",
    "As abelhas podem reconhecer rostos humanos! ğŸ",
    "O polvo tem trÃªs coraÃ§Ãµes e sangue azul! ğŸ™",
    "Bananas sÃ£o ligeiramente radioativas devido ao potÃ¡ssio. ğŸŒ",
    "O som nÃ£o viaja no espaÃ§o porque nÃ£o hÃ¡ ar. ğŸ”‡",
    "Elefantes sÃ£o os Ãºnicos mamÃ­feros que nÃ£o conseguem pular. ğŸ˜"
  ],
  piadas: [
    "Por que o livro de matemÃ¡tica ficou triste? Porque tinha muitos problemas! ğŸ“šğŸ˜„",
    "O que o pato disse para a pata? Vem QuÃ¡! ğŸ¦†",
    "Qual Ã© o contrÃ¡rio de volÃ¡til? Vem cÃ¡ sobrinho! ğŸ˜‚",
    "Por que o cafÃ© foi Ã  polÃ­cia? Porque foi expresso! â˜•",
    "O que Ã© um pontinho amarelo no cÃ©u? Um YellowcÃ³ptero! ğŸš",
    "Por que a planta foi para o hospital? Porque ela nÃ£o estava se sentindo bem! ğŸŒ±"
  ]
};

// Adiciona mensagem
function addMessage(text, who='bot'){
  const wrapper=document.createElement('div');
  wrapper.className='msg-wrapper '+who;
  const avatar=document.createElement('div');
  avatar.className='avatar '+(who==='me'?'user':'bot');
  avatar.textContent=who==='me'?'ğŸ‘¤':'ğŸ¤–';
  const msgContainer=document.createElement('div');
  const msg=document.createElement('div');
  msg.className='msg';
  msg.textContent=text;
  const time=document.createElement('div');
  time.className='timestamp';
  const now = new Date();
  const timeStr = now.toLocaleTimeString('pt-BR',{hour:'2-digit',minute:'2-digit'});
  time.textContent = userName ? `${userName}, sÃ£o ${timeStr}` : timeStr;
  msgContainer.appendChild(msg);
  msgContainer.appendChild(time);
  wrapper.appendChild(avatar);
  wrapper.appendChild(msgContainer);
  messagesEl.appendChild(wrapper);
  messagesEl.scrollTop=messagesEl.scrollHeight;
}

// Tipagem animada
function showTyping(){
  const wrapper=document.createElement('div');
  wrapper.className='msg-wrapper bot';
  wrapper.id='typing-indicator';
  const avatar=document.createElement('div');
  avatar.className='avatar bot';
  avatar.textContent='ğŸ¤–';
  const msg=document.createElement('div');
  msg.className='msg';
  const typing=document.createElement('div');
  typing.className='typing';
  typing.innerHTML='<span></span><span></span><span></span>';
  msg.appendChild(typing);
  wrapper.appendChild(avatar);
  wrapper.appendChild(msg);
  messagesEl.appendChild(wrapper);
  messagesEl.scrollTop=messagesEl.scrollHeight;
}

function hideTyping(){const typingIndicator=document.getElementById('typing-indicator'); if(typingIndicator) typingIndicator.remove();}

// Avalia expressÃ£o matemÃ¡tica com seguranÃ§a
function safeEval(expr){
  if(!/^[0-9+\-*/().\s]+$/.test(expr)) return "âŒ ExpressÃ£o invÃ¡lida!";
  try {return `ğŸ§® ${expr} = ${eval(expr)}`;} 
  catch(e){return "âŒ NÃ£o consegui calcular essa expressÃ£o!";}
}

// Checa se contÃ©m qualquer palavra
function containsAny(text, keywords){return keywords.some(k=>text.includes(k));}

// Gera resposta do bot
function botRespond(text){
  const t=text.toLowerCase().trim();
  
  // Pergunta pelo nome
  if(!userName){
    userName = text.trim().split(' ')[0];
    return `Ã“timo, ${userName}! Agora posso te ajudar melhor. ğŸ˜Š`;
  }

  // SaudaÃ§Ãµes
  if(containsAny(t,knowledgeBase.saudacoes)){
    const h=new Date().getHours();
    if(h<12) return `Bom dia, ${userName}! â˜€ï¸ Como posso ajudÃ¡-lo hoje?`;
    if(h<18) return `Boa tarde, ${userName}! ğŸ˜Š Em que posso ser Ãºtil?`;
    return `Boa noite, ${userName}! ğŸŒ™ Como posso auxiliÃ¡-lo?`;
  }

  // Despedidas
  if(containsAny(t,knowledgeBase.despedidas)) return `AtÃ© logo, ${userName}! ğŸ‘‹ğŸ˜Š`;
  if(containsAny(t,knowledgeBase.agradecimentos)) return `Por nada, ${userName}! Sempre Ã  disposiÃ§Ã£o. ğŸ˜Š`;

  if(t.includes('como vocÃª estÃ¡')||t.includes('como vai')) return `Estou Ã³timo, ${userName}! E vocÃª?`;
  if(t.includes('seu nome')||t.includes('quem Ã© vocÃª')) return `Sou seu Assistente Virtual Profissional, ${userName}! ğŸ¤–`;
  if(t.includes('ajuda')||t.includes('comandos')) return `Posso ajudar com: ğŸ• Hora, ğŸ“… Data, ğŸ’¡ Curiosidades, ğŸ˜„ Piadas, ğŸ§® CÃ¡lculos, ğŸ’¬ Conversas gerais`;

  // Hora e data
  if(t.includes('hora')) return `ğŸ• ${userName}, sÃ£o ${new Date().toLocaleTimeString('pt-BR',{hour:'2-digit',minute:'2-digit'})}`;
  if(t.includes('data')||t.includes('hoje')) return `ğŸ“… Hoje Ã© ${new Date().toLocaleDateString('pt-BR',{weekday:'long',year:'numeric',month:'long',day:'numeric'})}, ${userName}.`;

  // Curiosidades e piadas
  if(t.includes('curiosidade')) return `VocÃª sabia, ${userName}? ${knowledgeBase.curiosidades[Math.floor(Math.random()*knowledgeBase.curiosidades.length)]}`;
  if(t.includes('piada')||t.includes('engraÃ§ado')) return knowledgeBase.piadas[Math.floor(Math.random()*knowledgeBase.piadas.length)];

  // ExpressÃµes matemÃ¡ticas
  if(t.match(/[0-9+\-*/().\s]+/)) return safeEval(text);

  // Respostas padrÃ£o
  const responses=[
    `Interessante, ${userName}! Pode me dar mais detalhes? ğŸ¤”`,
    `Entendo, ${userName}. Como posso ajudar vocÃª? ğŸ’¬`,
    `Hmm, ${userName}, nÃ£o tenho certeza sobre isso. Pode reformular? ğŸ”`,
    `Essa Ã© uma questÃ£o interessante, ${userName}! ğŸ“š`,
    `Desculpe, ${userName}, ainda estou aprendendo sobre isso. ğŸ“`
  ];
  return responses[Math.floor(Math.random()*responses.length)];
}

// Envia mensagem
async function handleSend(){
  const text=input.value.trim();
  if(!text||isTyping) return;
  addMessage(text,'me');
  input.value='';
  sendBtn.disabled=true;
  isTyping=true;
  showTyping();
  await new Promise(r=>setTimeout(r,500+Math.random()*500));
  hideTyping();
  addMessage(botRespond(text),'bot');
  sendBtn.disabled=false;
  isTyping=false;
  input.focus();
}

// Eventos
sendBtn.addEventListener('click',handleSend);
input.addEventListener('keypress',e=>{if(e.key==='Enter'){handleSend();}});
function useSuggestion(text){input.value=text; input.focus(); handleSend();}

// Mensagem inicial
setTimeout(()=>{
  addMessage('OlÃ¡! Seja bem-vindo(a)! ğŸ‘‹','bot');
  setTimeout(()=>{addMessage('Qual Ã© o seu nome? ğŸ˜Š','bot');},800);
},500);

input.focus();
</script>
</body>
</html>
